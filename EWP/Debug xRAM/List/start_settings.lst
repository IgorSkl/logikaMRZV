###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.3.8902/W32 for ARM        15/Oct/2015  14:42:23
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  arm
#    Endian       =  little
#    Source file  =  
#        D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\start_settings.c
#    Command line =  
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\start_settings.c" -lcN
#        "D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\List\" -o "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug xRAM\Obj\" --no_cse
#        --no_unroll --no_inline --no_code_motion --no_tbaa --no_clustering
#        --no_scheduling --debug --endian=little --cpu=ARM926EJ-S -e
#        --fpu=VFP9-S --dlib_config "D:\Program Files\IAR Systems\Embedded
#        Workbench 7.2\arm\INC\c\DLib_Config_Normal.h" -I "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\NXP\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\LIB\include\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\inc\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\Igor\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\mal\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\component\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\psupervisor\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\virtualMenu\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\callbackElement\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\logictimers\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\zonaVRT\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\" --interwork
#        --cpu_mode arm -On --use_c++_inline
#    List file    =  
#        D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\List\start_settings.lst
#    Object file  =  
#        D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\Obj\start_settings.o
#
###############################################################################

D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\start_settings.c
      1          #include "header.h"
      2          
      3          /*************************************************************************
      4          Стартова ініціалізація змінних
      5          *************************************************************************/
      6          void global_vareiables_installation(void)
      7          {
      8          }
      9          /*************************************************************************/
     10          
     11          /**************************************/
     12          //Тестування зовнішньої SRAM
     13          /**************************************/
     14          void test_external_SRAM(void)
     15          {
     16            //Визнапчаємо кількість двохбайтих слів
     17            unsigned int size_SRAM_4bytes;
     18          
     19            //Визначаємо вказівник на останню адресу зовнішньої оперативної пам'яті
     20            unsigned int *point, *point_tmp;
     21          
     22          #ifdef _STATIC_MEMORY_BOOT
     23            //Визнапчаємо кількість чотирибайтних слів
     24            size_SRAM_4bytes = ((((unsigned int)&__ICFEDIT_region_RAM_date_no_cache_end__) + 1) - ((unsigned int)&__ICFEDIT_region_RAM_code_start__))  >> 2;
     25          
     26            //Визначаємо вказівник на початок зовнішньої оперативної пам'яті
     27            point = ((unsigned int *)&__ICFEDIT_region_RAM_code_start__);
     28          #else
     29            //Визнапчаємо кількість чотирибайтних слів
     30            size_SRAM_4bytes = ((((unsigned int)&__ICFEDIT_region_RAM_date_no_cache_end__) + 1) - ((unsigned int)&__ICFEDIT_region_RAM_date_start__))  >> 2;
     31          
     32            //Визначаємо вказівник на початок зовнішньої оперативної пам'яті
     33            point = ((unsigned int *)&__ICFEDIT_region_RAM_date_start__);
     34          #endif
     35            point_tmp = point;
     36          
     37            //Заповнюємо кожну комірку зовнішьої оперативної пам'яті її адресою
     38            for (unsigned int i = 0; i < size_SRAM_4bytes; i++)
     39            {
     40              unsigned short int tmp, tmp_inv;
     41              tmp = i & 0xffff;
     42              tmp_inv = (unsigned short int)(~tmp);
     43          
     44              *point_tmp++ = (tmp_inv << 16) | tmp;
     45            }
     46          
     47            //Перевіряємо зчитуванням, чи у всіх комірках прописані ті числа, які ми попередньо записали
     48            unsigned int i = 0;
     49            unsigned int error = 0;
     50            while((i < size_SRAM_4bytes) && (error == 0))
     51            {
     52              unsigned short int tmp, tmp_inv;
     53              tmp = (i & 0xffff);
     54              tmp_inv = (unsigned short int)(~tmp);
     55          
     56              if ((*point) == ((tmp_inv << 16) | tmp))
     57              {
     58                //Тест даної комірки пройшов вдало
     59                i++;
     60                *point++ = 0;
     61              }
     62              else
     63              {
     64                //Тест даної комірки не пройшов вдало
     65                error = 0xff;
     66              }
     67            }
     68          
     69            if (error == 0 ) external_SRAM_OK = EXTERNAL_SRAM_OK;
     70            else external_SRAM_OK = 0;
     71          }
     72          /**************************************/
     73          

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
       0   global_vareiables_installation
      20   test_external_SRAM


   Section sizes:

   Bytes  Function/Label
   -----  --------------
       4  ??DataTable0
       4  ??DataTable0_1
       4  ??DataTable0_2
       4  ??DataTable0_3
       4  global_vareiables_installation
     276  test_external_SRAM

 
 296 bytes in section .text
 
 296 bytes of CODE memory

Errors: none
Warnings: none
