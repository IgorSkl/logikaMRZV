###############################################################################
#
# IAR ANSI C/C++ Compiler V7.40.3.8902/W32 for ARM        15/Oct/2015  17:17:44
# Copyright 1999-2015 IAR Systems AB.
#
#    Cpu mode     =  arm
#    Endian       =  little
#    Source file  =  
#        D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\SettingIci\SettingIci_RangirDZ.c
#    Command line =  
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\SettingIci\SettingIci_RangirDZ.c"
#        -lcN "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug xRAM\List\" -o
#        "D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\Obj\" --no_cse --no_unroll --no_inline --no_code_motion --no_tbaa
#        --no_clustering --no_scheduling --debug --endian=little
#        --cpu=ARM926EJ-S -e --fpu=VFP9-S --dlib_config "D:\Program Files\IAR
#        Systems\Embedded Workbench 7.2\arm\INC\c\DLib_Config_Normal.h" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\NXP\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\LIB\include\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\inc\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\Igor\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\mal\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\component\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\psupervisor\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\virtualMenu\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\callbackElement\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\logictimers\" -I
#        "D:\Program Files\IAR
#        Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\zonaVRT\" -I "D:\Program
#        Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\..\" --interwork
#        --cpu_mode arm -On --use_c++_inline
#    List file    =  
#        D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\List\SettingIci_RangirDZ.lst
#    Object file  =  
#        D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\EWP\Debug
#        xRAM\Obj\SettingIci_RangirDZ.o
#
###############################################################################

D:\Program Files\IAR Systems\MYWORK\HR1_0100_00_I720_new2\SettingIci\SettingIci_RangirDZ.c
      1          #include "lpc_types.h"
      2          #include "lpc_irq_fiq.h"
      3          #include "lpc_arm922t_cp15_driver.h"
      4          
      5          #include "lpc32xx_hstimer.h"
      6          #include "lpc32xx_ssp.h"
      7          #include "lpc32xx_gpio.h"
      8          
      9          #include "lpc32xx_intc_driver.h"
     10          #include "lpc32xx_clkpwr_driver.h"
     11          
     12          #include "arm926ej_cp15_drv.h"
     13          #include "ttbl.h"
     14          
     15          #include <stdio.h>
     16          #include <string.h>
     17          
     18          #include "psuperVisor\supermanager.h"
     19          
     20          #include "component\componentdef.h"
     21          #include "psuperVisor\psvisor_helpdef.h"
     22          
     23          #include "psuperVisor\psvisor_helpfnc.h"
     24          #include "virtualMenu\rangmanagerfnc.h"
     25          #include "virtualmenu\systemmenufnc.h"
     26          #include "SettingIci\SettingIci.h"
     27          
     28          #include "toSpeedOptim.h"
     29          #include "toSpeedDIS.h"
     30          
     31          #include "header.h"
     32          #include "ici_r_ef.h"
     33          
     34          #define _HIDE_COMPONENT
     35          #include "DZ1Component.c"
     36          #include "DZ2Component.c"
     37          
     38          void SettingIci_RangirDZToDV(int nDV)
     39          {
     40          //отранж DZ1 на ДВ
     41          int numDV = nDV - DV1_SM;//нормировка
     42          // Блокировка DZ1
     43           if(isActivCmdDV(BLOCK_DSTP1_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     44                SetCmdToUVV(DZ_COMP1,  1, IOCMD1_DZ1, nDV);//отранж 
     45          
     46          // Блокировка DZ2
     47           if(isActivCmdDV(BLOCK_DSTP2_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     48                SetCmdToUVV(DZ_COMP1,  2, IOCMD1_DZ2to5, nDV);//отранж 
     49          //Блокировка ускор Дист З2
     50           if(isActivCmdDV(BLOCK_ACCLT_DSTP2_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     51                SetCmdToUVV(DZ_COMP1,  2, IOCMD2_DZ2to5, nDV);//отранж 
     52          //Оперативное ускорение Дист З2
     53           if(isActivCmdDV(ACCLT_DSTP2_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     54                SetCmdToUVV(DZ_COMP1,  2, IOCMD3_DZ2to5, nDV);//отранж 
     55          
     56          // Блокировка DZ3
     57           if(isActivCmdDV(BLOCK_DSTP3_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     58                SetCmdToUVV(DZ_COMP1,  3, IOCMD1_DZ2to5, nDV);//отранж 
     59          //Блокировка ускор Дист З3
     60           if(isActivCmdDV(BLOCK_ACCLT_DSTP3_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     61                SetCmdToUVV(DZ_COMP1,  3, IOCMD2_DZ2to5, nDV);//отранж 
     62          //Оперативное ускорение Дист З3
     63           if(isActivCmdDV(ACCLT_DSTP3_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     64                SetCmdToUVV(DZ_COMP1,  3, IOCMD3_DZ2to5, nDV);//отранж 
     65          
     66          // Блокировка DZ4
     67           if(isActivCmdDV(BLOCK_DSTP4_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     68                SetCmdToUVV(DZ_COMP1,  4, IOCMD1_DZ2to5, nDV);//отранж 
     69          //Блокировка ускор Дист З4
     70           if(isActivCmdDV(BLOCK_ACCLT_DSTP4_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     71                SetCmdToUVV(DZ_COMP1,  4, IOCMD2_DZ2to5, nDV);//отранж 
     72          //Оперативное ускорение Дист З4
     73           if(isActivCmdDV(ACCLT_DSTP4_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     74                SetCmdToUVV(DZ_COMP1,  4, IOCMD3_DZ2to5, nDV);//отранж 
     75          
     76          // Блокировка DZ5
     77           if(isActivCmdDV(BLOCK_DSTP5_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     78                SetCmdToUVV(DZ_COMP1,  5, IOCMD1_DZ2to5, nDV);//отранж 
     79          //Блокировка ускор Дист З5
     80           if(isActivCmdDV(BLOCK_ACCLT_DSTP5_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     81                SetCmdToUVV(DZ_COMP1,  5, IOCMD2_DZ2to5, nDV);//отранж 
     82          //Оперативное ускорение Дист З5
     83           if(isActivCmdDV(ACCLT_DSTP5_DI_IEPRF_ONB, numDV))//проверка активности команды на ДВ
     84                SetCmdToUVV(DZ_COMP1,  5, IOCMD3_DZ2to5, nDV);//отранж 
     85          
     86          }// SettingIci_RangirDZ1ToDV(int nDV)
     87          
     88          void SettingIci_RangirDZToRele(int nRele)
     89          {
     90          //отранж DZ1 на Реле
     91          int numRele = nRele - RELE1_SM;//нормировка
     92          // Блокировка DZ1
     93           if(isActivCmdRele(BLOCK_DSTP1_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
     94                SetCmdToUVV(DZ_COMP1,  1, IOCMD1_DZ1, nRele);//отранж 
     95          // ПО ДЗ1 МФ
     96           if(isActivCmdRele(STPDEV_DSTP1_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
     97                SetCmdToUVV(DZ_COMP1,  1, IOCMD2_DZ1, nRele);//отранж 
     98          // Cраб ДЗ1 МФ
     99           if(isActivCmdRele(DSTP1_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    100                SetCmdToUVV(DZ_COMP1,  1, IOCMD3_DZ1, nRele);//отранж 
    101          // ПО МТЗ ДЗ1
    102           if(isActivCmdRele(STPDEV_MCP_DSTP1_OEPRF_ONB, numRele))//проверка активности команды на Rele
    103                SetCmdToUVV(DZ_COMP1,  1, IOCMD4_DZ1, nRele);//отранж 
    104          // Сраб МТЗ ДЗ1
    105           if(isActivCmdRele(MCP_DSTP1_OEPRF_ONB, numRele))//проверка активности команды на Rele
    106                SetCmdToUVV(DZ_COMP1,  1, IOCMD5_DZ1, nRele);//отранж 
    107          // ПО ДЗ1 ОФ
    108           if(isActivCmdRele(STPDEV_DSTP1_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    109                SetCmdToUVV(DZ_COMP1,  1, IOCMD6_DZ1, nRele);//отранж 
    110          // сраб ДЗ1 ОФ
    111           if(isActivCmdRele(DSTP1_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    112                SetCmdToUVV(DZ_COMP1,  1, IOCMD7_DZ1, nRele);//отранж 
    113          
    114          // Блокировка DZ2
    115           if(isActivCmdRele(BLOCK_DSTP2_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    116                SetCmdToUVV(DZ_COMP1,  2, IOCMD1_DZ2to5, nRele);//отранж 
    117          //Блокировка ускор Дист З2
    118           if(isActivCmdRele(BLOCK_ACCLT_DSTP2_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    119                SetCmdToUVV(DZ_COMP1,  2, IOCMD2_DZ2to5, nRele);//отранж 
    120          //Оперативное ускорение Дист З2
    121           if(isActivCmdRele(ACCLT_DSTP2_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    122                SetCmdToUVV(DZ_COMP1,  2, IOCMD3_DZ2to5, nRele);//отранж 
    123          // ПО ДЗ2 МФ
    124           if(isActivCmdRele(STPDEV_DSTP2_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    125                SetCmdToUVV(DZ_COMP1,  2, IOCMD4_DZ2to5MF, nRele);//отранж 
    126          // Cраб ДЗ2 МФ
    127           if(isActivCmdRele(DSTP2_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    128                SetCmdToUVV(DZ_COMP1,  2, IOCMD5_DZ2to5MF, nRele);//отранж 
    129          // ПО МТЗ ДЗ2
    130           if(isActivCmdRele(STPDEV_MCP_DSTP2_OEPRF_ONB, numRele))//проверка активности команды на Rele
    131                SetCmdToUVV(DZ_COMP1,  2, IOCMD4_MDZ2to5MF, nRele);//отранж 
    132          // Сраб МТЗ ДЗ2
    133           if(isActivCmdRele(MCP_DSTP2_OEPRF_ONB, numRele))//проверка активности команды на Rele
    134                SetCmdToUVV(DZ_COMP1,  2, IOCMD5_MDZ2to5MF, nRele);//отранж 
    135          // ПО ДЗ2 ОФ
    136           if(isActivCmdRele(STPDEV_DSTP2_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    137                SetCmdToUVV(DZ_COMP1,  2, IOCMD4_DZ2to5OF, nRele);//отранж 
    138          // сраб ДЗ2 ОФ
    139           if(isActivCmdRele(DSTP2_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    140                SetCmdToUVV(DZ_COMP1,  2, IOCMD5_DZ2to5OF, nRele);//отранж 
    141          
    142          
    143          // Блокировка DZ3
    144           if(isActivCmdRele(BLOCK_DSTP3_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    145                SetCmdToUVV(DZ_COMP1,  3, IOCMD1_DZ2to5, nRele);//отранж 
    146          //Блокировка ускор Дист З3
    147           if(isActivCmdRele(BLOCK_ACCLT_DSTP3_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    148                SetCmdToUVV(DZ_COMP1,  3, IOCMD2_DZ2to5, nRele);//отранж 
    149          //Оперативное ускорение Дист З3
    150           if(isActivCmdRele(ACCLT_DSTP3_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    151                SetCmdToUVV(DZ_COMP1,  3, IOCMD3_DZ2to5, nRele);//отранж 
    152          // ПО ДЗ3 МФ
    153           if(isActivCmdRele(STPDEV_DSTP3_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    154                SetCmdToUVV(DZ_COMP1,  3, IOCMD4_DZ2to5MF, nRele);//отранж 
    155          // Cраб ДЗ3 МФ
    156           if(isActivCmdRele(DSTP3_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    157                SetCmdToUVV(DZ_COMP1,  3, IOCMD5_DZ2to5MF, nRele);//отранж 
    158          // ПО МТЗ ДЗ3
    159           if(isActivCmdRele(STPDEV_MCP_DSTP3_OEPRF_ONB, numRele))//проверка активности команды на Rele
    160                SetCmdToUVV(DZ_COMP1,  3, IOCMD4_MDZ2to5MF, nRele);//отранж 
    161          // Сраб МТЗ ДЗ3
    162           if(isActivCmdRele(MCP_DSTP3_OEPRF_ONB, numRele))//проверка активности команды на Rele
    163                SetCmdToUVV(DZ_COMP1,  3, IOCMD5_MDZ2to5MF, nRele);//отранж 
    164          // ПО ДЗ3 ОФ
    165           if(isActivCmdRele(STPDEV_DSTP3_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    166                SetCmdToUVV(DZ_COMP1,  3, IOCMD4_DZ2to5OF, nRele);//отранж 
    167          // сраб ДЗ3 ОФ
    168           if(isActivCmdRele(DSTP3_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    169                SetCmdToUVV(DZ_COMP1,  3, IOCMD5_DZ2to5OF, nRele);//отранж 
    170          
    171          // Блокировка DZ4
    172           if(isActivCmdRele(BLOCK_DSTP4_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    173                SetCmdToUVV(DZ_COMP1,  4, IOCMD1_DZ2to5, nRele);//отранж 
    174          //Блокировка ускор Дист З4
    175           if(isActivCmdRele(BLOCK_ACCLT_DSTP4_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    176                SetCmdToUVV(DZ_COMP1,  4, IOCMD2_DZ2to5, nRele);//отранж 
    177          //Оперативное ускорение Дист З4
    178           if(isActivCmdRele(ACCLT_DSTP4_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    179                SetCmdToUVV(DZ_COMP1,  4, IOCMD3_DZ2to5, nRele);//отранж 
    180          // ПО ДЗ4 МФ
    181           if(isActivCmdRele(STPDEV_DSTP4_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    182                SetCmdToUVV(DZ_COMP1,  4, IOCMD4_DZ2to5MF, nRele);//отранж 
    183          // Cраб ДЗ4 МФ
    184           if(isActivCmdRele(DSTP4_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    185                SetCmdToUVV(DZ_COMP1,  4, IOCMD5_DZ2to5MF, nRele);//отранж 
    186          // ПО МТЗ ДЗ4
    187           if(isActivCmdRele(STPDEV_MCP_DSTP4_OEPRF_ONB, numRele))//проверка активности команды на Rele
    188                SetCmdToUVV(DZ_COMP1,  4, IOCMD4_MDZ2to5MF, nRele);//отранж 
    189          // Сраб МТЗ ДЗ4
    190           if(isActivCmdRele(MCP_DSTP4_OEPRF_ONB, numRele))//проверка активности команды на Rele
    191                SetCmdToUVV(DZ_COMP1,  4, IOCMD5_MDZ2to5MF, nRele);//отранж 
    192          // ПО ДЗ4 ОФ
    193           if(isActivCmdRele(STPDEV_DSTP4_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    194                SetCmdToUVV(DZ_COMP1,  4, IOCMD4_DZ2to5OF, nRele);//отранж 
    195          // сраб ДЗ4 ОФ
    196           if(isActivCmdRele(DSTP4_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    197                SetCmdToUVV(DZ_COMP1,  4, IOCMD5_DZ2to5OF, nRele);//отранж 
    198          
    199          // Блокировка DZ5
    200           if(isActivCmdRele(BLOCK_DSTP5_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    201                SetCmdToUVV(DZ_COMP1,  5, IOCMD1_DZ2to5, nRele);//отранж 
    202          //Блокировка ускор Дист З5
    203           if(isActivCmdRele(BLOCK_ACCLT_DSTP5_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    204                SetCmdToUVV(DZ_COMP1,  5, IOCMD2_DZ2to5, nRele);//отранж 
    205          //Оперативное ускорение Дист З5
    206           if(isActivCmdRele(ACCLT_DSTP5_DI_OEPRF_ONB, numRele))//проверка активности команды на Rele
    207                SetCmdToUVV(DZ_COMP1,  5, IOCMD3_DZ2to5, nRele);//отранж 
    208          // ПО ДЗ5 МФ
    209           if(isActivCmdRele(STPDEV_DSTP5_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    210                SetCmdToUVV(DZ_COMP1,  5, IOCMD4_DZ2to5MF, nRele);//отранж 
    211          // Cраб ДЗ5 МФ
    212           if(isActivCmdRele(DSTP5_MF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    213                SetCmdToUVV(DZ_COMP1,  5, IOCMD5_DZ2to5MF, nRele);//отранж 
    214          // ПО МТЗ ДЗ5
    215           if(isActivCmdRele(STPDEV_MCP_DSTP5_OEPRF_ONB, numRele))//проверка активности команды на Rele
    216                SetCmdToUVV(DZ_COMP1,  5, IOCMD4_MDZ2to5MF, nRele);//отранж 
    217          // Сраб МТЗ ДЗ5
    218           if(isActivCmdRele(MCP_DSTP5_OEPRF_ONB, numRele))//проверка активности команды на Rele
    219                SetCmdToUVV(DZ_COMP1,  5, IOCMD5_MDZ2to5MF, nRele);//отранж 
    220          // ПО ДЗ5 ОФ
    221           if(isActivCmdRele(STPDEV_DSTP5_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    222                SetCmdToUVV(DZ_COMP1,  5, IOCMD4_DZ2to5OF, nRele);//отранж 
    223          // сраб ДЗ5 ОФ
    224           if(isActivCmdRele(DSTP5_OF_OEPRF_ONB, numRele))//проверка активности команды на Rele
    225                SetCmdToUVV(DZ_COMP1,  5, IOCMD5_DZ2to5OF, nRele);//отранж 
    226          
    227          }// SettingIci_RangirUMM2Rele(int nRele)
    228          
    229          void SettingIci_RangirDZToLed(int nLed)
    230          {
    231          //отранж DZ1 на СДИ
    232          int numLed = nLed - CDI1_SM;//нормировка
    233          // Блокировка UMin1
    234          // if(isActivCmdLed(BLOCK_UMIN1_DI_OEPRF_ONB, numLed))//проверка активности команды на Реле
    235            //    SetCmdToUVV(UMM_COMP1,  1, IOCMD3_UMM, nLed);//отранж 
    236          
    237          }// SettingIci_RangirUMM2Led(int nLed)

   Maximum stack usage in bytes:

   .cstack Function
   ------- --------
      16   SettingIci_RangirDZToDV
        16   -> SetCmdToUVV
        16   -> isActivCmdDV
       0   SettingIci_RangirDZToLed
      16   SettingIci_RangirDZToRele
        16   -> SetCmdToUVV
        16   -> isActivCmdRele


   Section sizes:

   Bytes  Function/Label
   -----  --------------
     640  SettingIci_RangirDZToDV
       8  SettingIci_RangirDZToLed
    2080  SettingIci_RangirDZToRele

 
 2 728 bytes in section .text
 
 2 728 bytes of CODE memory

Errors: none
Warnings: 1
